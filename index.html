document.writeln("<!DOCTYPE html>");
document.writeln("<html lang=\'zh-CN\'>");
document.writeln("<head>");
document.writeln("    <meta charset=\'UTF-8\'>");
document.writeln("    <meta name=\'viewport\' content=\'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\'>");
document.writeln("    <title>TVBOX接口配置编辑器</title>");
document.writeln("    <style>");
document.writeln("        :root {");
document.writeln("            --primary-color: #4a6baf;");
document.writeln("            --secondary-color: #5a8dee;");
document.writeln("            --accent-color: #ff7043;");
document.writeln("            --success-color: #4caf50;");
document.writeln("            --danger-color: #f44336;");
document.writeln("            --warning-color: #ff9800;");
document.writeln("            --info-color: #2196f3;");
document.writeln("            --light-color: #f5f7fa;");
document.writeln("            --dark-color: #263238;");
document.writeln("            --text-color: #455a64;");
document.writeln("            --border-color: #e0e0e0;");
document.writeln("            --shadow-color: rgba(0, 0, 0, 0.1);");
document.writeln("        }");
document.writeln("        ");
document.writeln("        * {");
document.writeln("            box-sizing: border-box;");
document.writeln("            margin: 0;");
document.writeln("            padding: 0;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        body {");
document.writeln("            font-family: \'Segoe UI\', \'PingFang SC\', \'Microsoft YaHei\', sans-serif;");
document.writeln("            line-height: 1.6;");
document.writeln("            color: var(--text-color);");
document.writeln("            background-color: #f8f9fa;");
document.writeln("            padding: 20px;");
document.writeln("            max-width: 1200px;");
document.writeln("            margin: 0 auto;");
document.writeln("            touch-action: manipulation;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .container {");
document.writeln("            background-color: white;");
document.writeln("            border-radius: 8px;");
document.writeln("            box-shadow: 0 2px 15px var(--shadow-color);");
document.writeln("            overflow: hidden;");
document.writeln("            padding: 25px;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .header {");
document.writeln("            text-align: center;");
document.writeln("            margin-bottom: 25px;");
document.writeln("            padding-bottom: 15px;");
document.writeln("            border-bottom: 1px solid var(--border-color);");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .header h1 {");
document.writeln("            color: var(--primary-color);");
document.writeln("            font-size: 28px;");
document.writeln("            margin-bottom: 10px;");
document.writeln("            font-weight: 600;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .warning {");
document.writeln("            color: var(--danger-color);");
document.writeln("            background-color: rgba(244, 67, 54, 0.1);");
document.writeln("            padding: 8px 15px;");
document.writeln("            border-radius: 4px;");
document.writeln("            font-size: 14px;");
document.writeln("            display: inline-block;");
document.writeln("            margin-top: 10px;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .tab-buttons {");
document.writeln("            display: flex;");
document.writeln("            margin-bottom: 25px;");
document.writeln("            flex-wrap: wrap;");
document.writeln("            gap: 8px;");
document.writeln("            background-color: var(--light-color);");
document.writeln("            padding: 8px;");
document.writeln("            border-radius: 6px;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .tab-btn {");
document.writeln("            padding: 10px 20px;");
document.writeln("            background-color: transparent;");
document.writeln("            border: none;");
document.writeln("            cursor: pointer;");
document.writeln("            border-radius: 4px;");
document.writeln("            font-weight: 500;");
document.writeln("            transition: all 0.3s ease;");
document.writeln("            color: var(--text-color);");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .tab-btn:hover {");
document.writeln("            background-color: rgba(74, 107, 175, 0.1);");
document.writeln("            color: var(--primary-color);");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .tab-btn.active {");
document.writeln("            background-color: var(--primary-color);");
document.writeln("            color: white;");
document.writeln("            box-shadow: 0 2px 5px rgba(74, 107, 175, 0.3);");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .instruction {");
document.writeln("            color: var(--text-color);");
document.writeln("            background-color: rgba(90, 141, 238, 0.1);");
document.writeln("            padding: 12px 15px;");
document.writeln("            border-radius: 6px;");
document.writeln("            margin-bottom: 25px;");
document.writeln("            text-align: center;");
document.writeln("            font-size: 15px;");
document.writeln("            border-left: 4px solid var(--secondary-color);");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .config-section {");
document.writeln("            background-color: white;");
document.writeln("            padding: 20px;");
document.writeln("            border-radius: 8px;");
document.writeln("            margin-bottom: 25px;");
document.writeln("            box-shadow: 0 2px 10px var(--shadow-color);");
document.writeln("            border: 1px solid var(--border-color);");
document.writeln("            display: none;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .config-section.active {");
document.writeln("            display: block;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .config-section h3 {");
document.writeln("            color: var(--primary-color);");
document.writeln("            margin-bottom: 20px;");
document.writeln("            padding-bottom: 10px;");
document.writeln("            border-bottom: 1px solid var(--border-color);");
document.writeln("            font-size: 20px;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .config-row {");
document.writeln("            display: flex;");
document.writeln("            margin-bottom: 15px;");
document.writeln("            align-items: center;");
document.writeln("            flex-wrap: wrap;");
document.writeln("            gap: 15px;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .config-label {");
document.writeln("            min-width: 120px;");
document.writeln("            font-weight: 500;");
document.writeln("            color: var(--dark-color);");
document.writeln("        }");
document.writeln("        ");
document.writeln("        input[type=\'text\'],");
document.writeln("        input[type=\'number\'],");
document.writeln("        select,");
document.writeln("        textarea {");
document.writeln("            flex: 1;");
document.writeln("            min-width: 250px;");
document.writeln("            padding: 10px 15px;");
document.writeln("            border: 1px solid var(--border-color);");
document.writeln("            border-radius: 6px;");
document.writeln("            font-size: 14px;");
document.writeln("            transition: border 0.3s, box-shadow 0.3s;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        input[type=\'text\']:focus,");
document.writeln("        input[type=\'number\']:focus,");
document.writeln("        select:focus,");
document.writeln("        textarea:focus {");
document.writeln("            outline: none;");
document.writeln("            border-color: var(--secondary-color);");
document.writeln("            box-shadow: 0 0 0 3px rgba(90, 141, 238, 0.2);");
document.writeln("        }");
document.writeln("        ");
document.writeln("        textarea {");
document.writeln("            min-height: 120px;");
document.writeln("            font-family: \'Consolas\', \'Monaco\', monospace;");
document.writeln("            resize: vertical;");
document.writeln("            line-height: 1.5;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        button {");
document.writeln("            padding: 10px 20px;");
document.writeln("            background-color: var(--primary-color);");
document.writeln("            color: white;");
document.writeln("            border: none;");
document.writeln("            border-radius: 6px;");
document.writeln("            cursor: pointer;");
document.writeln("            font-weight: 500;");
document.writeln("            transition: all 0.3s ease;");
document.writeln("            font-size: 14px;");
document.writeln("            display: inline-flex;");
document.writeln("            align-items: center;");
document.writeln("            justify-content: center;");
document.writeln("            gap: 5px;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        button:hover {");
document.writeln("            background-color: var(--secondary-color);");
document.writeln("            transform: translateY(-1px);");
document.writeln("            box-shadow: 0 3px 8px rgba(74, 107, 175, 0.3);");
document.writeln("        }");
document.writeln("        ");
document.writeln("        button:active {");
document.writeln("            transform: translateY(0);");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .button-group {");
document.writeln("            display: flex;");
document.writeln("            gap: 10px;");
document.writeln("            margin-bottom: 20px;");
document.writeln("            flex-wrap: wrap;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .button-edit {");
document.writeln("            background-color: var(--info-color);");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .button-cancel {");
document.writeln("            background-color: var(--danger-color);");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .button-success {");
document.writeln("            background-color: var(--success-color);");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .button-warning {");
document.writeln("            background-color: var(--warning-color);");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .source-list {");
document.writeln("            margin-top: 25px;");
document.writeln("            width: 100%;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .source-item {");
document.writeln("            background-color: white;");
document.writeln("            padding: 15px;");
document.writeln("            border-radius: 8px;");
document.writeln("            margin-bottom: 15px;");
document.writeln("            border-left: 4px solid var(--primary-color);");
document.writeln("            box-shadow: 0 2px 8px var(--shadow-color);");
document.writeln("            cursor: move;");
document.writeln("            position: relative;");
document.writeln("            user-select: none;");
document.writeln("            transition: all 0.3s ease;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .source-item:hover {");
document.writeln("            transform: translateY(-2px);");
document.writeln("            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .source-item.dragging {");
document.writeln("            opacity: 0.7;");
document.writeln("            border: 2px dashed var(--primary-color);");
document.writeln("            background-color: rgba(90, 141, 238, 0.1);");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .drag-handle {");
document.writeln("            margin-right: 15px;");
document.writeln("            cursor: move;");
document.writeln("            color: var(--text-color);");
document.writeln("            font-size: 18px;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .source-item h4 {");
document.writeln("            color: var(--dark-color);");
document.writeln("            margin-bottom: 8px;");
document.writeln("            font-size: 16px;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .source-item p {");
document.writeln("            margin-bottom: 5px;");
document.writeln("            font-size: 14px;");
document.writeln("            color: var(--text-color);");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .source-item-actions {");
document.writeln("            display: flex;");
document.writeln("            gap: 8px;");
document.writeln("            margin-top: 10px;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .category-config {");
document.writeln("            margin-top: 20px;");
document.writeln("            width: 100%;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .category-list {");
document.writeln("            display: flex;");
document.writeln("            flex-wrap: wrap;");
document.writeln("            gap: 10px;");
document.writeln("            margin-top: 15px;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .category-tag {");
document.writeln("            background-color: rgba(90, 141, 238, 0.1);");
document.writeln("            padding: 6px 12px;");
document.writeln("            border-radius: 20px;");
document.writeln("            display: flex;");
document.writeln("            align-items: center;");
document.writeln("            font-size: 13px;");
document.writeln("            color: var(--primary-color);");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .category-tag button {");
document.writeln("            margin-left: 8px;");
document.writeln("            padding: 2px 6px;");
document.writeln("            background-color: var(--danger-color);");
document.writeln("            font-size: 12px;");
document.writeln("            border-radius: 50%;");
document.writeln("            width: 20px;");
document.writeln("            height: 20px;");
document.writeln("            min-width: auto;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .url-list {");
document.writeln("            margin-top: 15px;");
document.writeln("            width: 100%;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .url-item {");
document.writeln("            display: flex;");
document.writeln("            align-items: center;");
document.writeln("            margin-bottom: 10px;");
document.writeln("            gap: 10px;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .url-item input {");
document.writeln("            flex: 1;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .url-item button {");
document.writeln("            padding: 8px 12px;");
document.writeln("            min-width: auto;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .json-output {");
document.writeln("            margin-top: 30px;");
document.writeln("            width: 100%;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .json-header {");
document.writeln("            display: flex;");
document.writeln("            justify-content: space-between;");
document.writeln("            align-items: center;");
document.writeln("            margin-bottom: 15px;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .json-header h3 {");
document.writeln("            color: var(--primary-color);");
document.writeln("            font-size: 18px;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        #config-json {");
document.writeln("            width: 100%;");
document.writeln("            height: 200px;");
document.writeln("            background-color: #f8f9fa;");
document.writeln("            border: 1px solid var(--border-color);");
document.writeln("            font-family: \'Consolas\', \'Monaco\', monospace;");
document.writeln("            font-size: 13px;");
document.writeln("            line-height: 1.5;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .channel-item,");
document.writeln("        .parse-item {");
document.writeln("            background-color: white;");
document.writeln("            padding: 15px;");
document.writeln("            border-radius: 8px;");
document.writeln("            margin-bottom: 15px;");
document.writeln("            border-left: 4px solid var(--primary-color);");
document.writeln("            box-shadow: 0 2px 8px var(--shadow-color);");
document.writeln("            cursor: move;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .channel-item.dragging,");
document.writeln("        .parse-item.dragging {");
document.writeln("            opacity: 0.7;");
document.writeln("            border: 2px dashed var(--primary-color);");
document.writeln("            background-color: rgba(90, 141, 238, 0.1);");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .channel-item p,");
document.writeln("        .parse-item p {");
document.writeln("            margin-bottom: 5px;");
document.writeln("            font-size: 14px;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .channel-item-actions,");
document.writeln("        .parse-item-actions {");
document.writeln("            display: flex;");
document.writeln("            justify-content: flex-end;");
document.writeln("            margin-top: 10px;");
document.writeln("            gap: 8px;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .ijk-option-item {");
document.writeln("            display: flex;");
document.writeln("            gap: 10px;");
document.writeln("            margin-bottom: 10px;");
document.writeln("            align-items: center;");
document.writeln("            flex-wrap: wrap;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .ijk-option-item select,");
document.writeln("        .ijk-option-item input {");
document.writeln("            flex: 1;");
document.writeln("            min-width: 200px;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        .ijk-option-item button {");
document.writeln("            padding: 8px 12px;");
document.writeln("            min-width: auto;");
document.writeln("        }");
document.writeln("        ");
document.writeln("        @media (max-width: 768px) {");
document.writeln("            body {");
document.writeln("                padding: 15px;");
document.writeln("            }");
document.writeln("            ");
document.writeln("            .container {");
document.writeln("                padding: 15px;");
document.writeln("            }");
document.writeln("            ");
document.writeln("            .config-row {");
document.writeln("                flex-direction: column;");
document.writeln("                align-items: flex-start;");
document.writeln("                gap: 8px;");
document.writeln("            }");
document.writeln("            ");
document.writeln("            .config-label {");
document.writeln("                width: 100%;");
document.writeln("                margin-bottom: 5px;");
document.writeln("            }");
document.writeln("            ");
document.writeln("            input[type=\'text\'],");
document.writeln("            input[type=\'number\'],");
document.writeln("            select,");
document.writeln("            textarea {");
document.writeln("                width: 100%;");
document.writeln("                min-width: 100%;");
document.writeln("            }");
document.writeln("            ");
document.writeln("            .tab-buttons {");
document.writeln("                flex-direction: column;");
document.writeln("            }");
document.writeln("            ");
document.writeln("            .tab-btn {");
document.writeln("                width: 100%;");
document.writeln("            }");
document.writeln("            ");
document.writeln("            .json-header {");
document.writeln("                flex-direction: column;");
document.writeln("                align-items: flex-start;");
document.writeln("                gap: 10px;");
document.writeln("            }");
document.writeln("            ");
document.writeln("            .ijk-option-item select,");
document.writeln("            .ijk-option-item input {");
document.writeln("                width: 100%;");
document.writeln("                min-width: 100%;");
document.writeln("            }");
document.writeln("        }");
document.writeln("    </style>");
document.writeln("</head>");
document.writeln("<body>");
document.writeln("    <div class=\'container\'>");
document.writeln("        <div class=\'header\'>");
document.writeln("            <h1>TVBOX接口配置编辑器</h1>");
document.writeln("            <div class=\'warning\'>返回或者关闭浏览器将会丢失记录，谨慎操作！</div>");
document.writeln("        </div>");
document.writeln("");
document.writeln("        <div class=\'tab-buttons\'>");
document.writeln("            <button class=\'tab-btn active\' data-tab=\'vod\'>点播源</button>");
document.writeln("            <button class=\'tab-btn\' data-tab=\'live\'>直播源</button>");
document.writeln("            <button class=\'tab-btn\' data-tab=\'parse\'>解析地址</button>");
document.writeln("            <button class=\'tab-btn\' data-tab=\'vip\'>VIP解析标识</button>");
document.writeln("            <button class=\'tab-btn\' data-tab=\'ijk\'>IJK解码配置</button>");
document.writeln("            <button class=\'tab-btn\' data-tab=\'ad\'>解析广告过滤</button>");
document.writeln("            <button class=\'tab-btn\' data-tab=\'wallpaper\'>壁纸</button>");
document.writeln("        </div>");
document.writeln("");
document.writeln("        <div class=\'instruction\'>");
document.writeln("            <i class=\'icon-info\'></i> 配置好后点击\'添加点播源\'按钮，然后复制到剪贴板即可！");
document.writeln("        </div>");
document.writeln("");
document.writeln("        <div class=\'config-section active\' id=\'vod-config\'>");
document.writeln("            <h3>点播源配置</h3>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>Spider:</div>");
document.writeln("                <input type=\'text\' id=\'global-spider\' placeholder=\'自定义爬虫jar代码包(不需要留空即可)\'>");
document.writeln("            </div>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>Key:</div>");
document.writeln("                <input type=\'text\' id=\'vod-key\' placeholder=\'点播源key\'>");
document.writeln("            </div>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>Name:</div>");
document.writeln("                <input type=\'text\' id=\'vod-name\' placeholder=\'点播源名称\'>");
document.writeln("            </div>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>Type:</div>");
document.writeln("                <select id=\'vod-type\'>");
document.writeln("                    <option value=\'0\'>0-xml</option>");
document.writeln("                    <option value=\'1\' selected>1-json</option>");
document.writeln("                    <option value=\'2\'>2-爬虫源</option>");
document.writeln("                    <option value=\'3\'>3-自定义爬虫</option>");
document.writeln("                    <option value=\'4\'>4-服务器爬虫</option>");
document.writeln("                </select>");
document.writeln("            </div>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>API:</div>");
document.writeln("                <input type=\'text\' id=\'vod-api\' placeholder=\'API地址\'>");
document.writeln("            </div>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>可搜索:</div>");
document.writeln("                <select id=\'vod-searchable\'>");
document.writeln("                    <option value=\'0\'>0-不可以</option>");
document.writeln("                    <option value=\'1\' selected>1-可以</option>");
document.writeln("                </select>");
document.writeln("            </div>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>可快速搜索:</div>");
document.writeln("                <select id=\'vod-quickSearch\'>");
document.writeln("                    <option value=\'0\'>0-不可以</option>");
document.writeln("                    <option value=\'1\' selected>1-可以</option>");
document.writeln("                </select>");
document.writeln("            </div>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>可筛选:</div>");
document.writeln("                <select id=\'vod-filterable\'>");
document.writeln("                    <option value=\'0\'>0-不可以</option>");
document.writeln("                    <option value=\'1\' selected>1-可以</option>");
document.writeln("                </select>");
document.writeln("            </div>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>Ext:</div>");
document.writeln("                <input type=\'text\' id=\'vod-ext\' placeholder=\'扩展参数(可选)\'>");
document.writeln("            </div>");
document.writeln("            ");
document.writeln("            <div class=\'category-config\'>");
document.writeln("                <h3>分类配置</h3>");
document.writeln("                <p>按顺序展示所配置的分类，不配置则默认展示所有分类</p>");
document.writeln("                <div class=\'config-row\'>");
document.writeln("                    <div class=\'config-label\'>添加分类:</div>");
document.writeln("                    <select id=\'category-select\'>");
document.writeln("                        <option value=\'电影\'>电影</option>");
document.writeln("                        <option value=\'电视剧\'>电视剧</option>");
document.writeln("                        <option value=\'动漫\'>动漫</option>");
document.writeln("                        <option value=\'综艺\'>综艺</option>");
document.writeln("                        <option value=\'短剧\'>短剧</option>");
document.writeln("                        <option value=\'纪录片\'>纪录片</option>");
document.writeln("                    </select>");
document.writeln("                    <button id=\'add-category-btn\'>添加</button>");
document.writeln("                </div>");
document.writeln("                <div class=\'category-list\' id=\'categories-list\'></div>");
document.writeln("            </div>");
document.writeln("        </div>");
document.writeln("");
document.writeln("        <div class=\'source-list\' id=\'vod-list\'>");
document.writeln("            <div class=\'button-group\'>");
document.writeln("                <button id=\'add-vod-btn\' class=\'button-success\'>添加点播源</button>");
document.writeln("                <button id=\'update-vod-btn\' class=\'button-edit\' style=\'display:none;\'>更新点播源</button>");
document.writeln("                <button id=\'cancel-edit-btn\' class=\'button-cancel\' style=\'display:none;\'>取消编辑</button>");
document.writeln("            </div>");
document.writeln("            <div id=\'vod-items\'></div>");
document.writeln("        </div>");
document.writeln("");
document.writeln("        <div class=\'config-section\' id=\'live-config\'>");
document.writeln("            <h3>直播源配置</h3>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>组名:</div>");
document.writeln("                <input type=\'text\' id=\'live-group\' placeholder=\'组名\'>");
document.writeln("            </div>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>频道名称:</div>");
document.writeln("                <input type=\'text\' id=\'live-channel-name\' placeholder=\'频道名称\'>");
document.writeln("            </div>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>直播源URL:</div>");
document.writeln("                <div style=\'flex: 1;\'>");
document.writeln("                    <div class=\'url-list\' id=\'live-urls-list\'>");
document.writeln("                        <div class=\'url-item\'>");
document.writeln("                            <input type=\'text\' class=\'live-url\' placeholder=\'直播源URL\'>");
document.writeln("                            <button class=\'remove-url button-cancel\'>删除</button>");
document.writeln("                        </div>");
document.writeln("                    </div>");
document.writeln("                    <button id=\'add-url-btn\' class=\'button-success\' style=\'margin-top: 10px;\'>添加URL</button>");
document.writeln("                </div>");
document.writeln("            </div>");
document.writeln("            <div class=\'button-group\'>");
document.writeln("                <button id=\'add-live-channel-btn\' class=\'button-success\'>添加频道</button>");
document.writeln("                <button id=\'update-live-channel-btn\' class=\'button-edit\' style=\'display:none;\'>更新频道</button>");
document.writeln("                <button id=\'cancel-live-edit-btn\' class=\'button-cancel\' style=\'display:none;\'>取消编辑</button>");
document.writeln("            </div>");
document.writeln("            <div id=\'live-channels-list\'></div>");
document.writeln("        </div>");
document.writeln("");
document.writeln("        <div class=\'config-section\' id=\'parse-config\'>");
document.writeln("            <h3>解析地址配置</h3>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>解析名称:</div>");
document.writeln("                <input type=\'text\' id=\'parse-name\' placeholder=\'解析名称\'>");
document.writeln("            </div>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>解析类型:</div>");
document.writeln("                <select id=\'parse-type\'>");
document.writeln("                    <option value=\'0\' selected>Type-0 (普通)</option>");
document.writeln("                    <option value=\'1\'>Type-1 (json)</option>");
document.writeln("                    <option value=\'2\'>Type-2 (多json)</option>");
document.writeln("                    <option value=\'3\'>Type-3 (聚合)</option>");
document.writeln("                </select>");
document.writeln("            </div>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>解析URL:</div>");
document.writeln("                <input type=\'text\' id=\'parse-url\' placeholder=\'解析URL\'>");
document.writeln("            </div>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>Ext:</div>");
document.writeln("                <input type=\'text\' id=\'parse-ext\' placeholder=\'扩展参数(可选)\'>");
document.writeln("            </div>");
document.writeln("            <div class=\'button-group\'>");
document.writeln("                <button id=\'add-parse-btn\' class=\'button-success\'>添加解析</button>");
document.writeln("                <button id=\'update-parse-btn\' class=\'button-edit\' style=\'display:none;\'>更新解析</button>");
document.writeln("                <button id=\'cancel-parse-edit-btn\' class=\'button-cancel\' style=\'display:none;\'>取消编辑</button>");
document.writeln("            </div>");
document.writeln("            <div id=\'parse-list\'></div>");
document.writeln("        </div>");
document.writeln("");
document.writeln("        <div class=\'config-section\' id=\'vip-config\'>");
document.writeln("            <h3>VIP解析标识</h3>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>VIP标识:</div>");
document.writeln("                <textarea id=\'vip-flags\' placeholder=\'多个标识用逗号分隔\'>youku,qq,iqiyi,qiyi,letv,sohu,tudou,pptv,mgtv,wasu</textarea>");
document.writeln("            </div>");
document.writeln("        </div>");
document.writeln("");
document.writeln("        <div class=\'config-section\' id=\'ijk-config\'>");
document.writeln("            <h3>IJK解码配置</h3>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>解码组:</div>");
document.writeln("                <select id=\'ijk-group\'>");
document.writeln("                    <option value=\'soft\'>软解码</option>");
document.writeln("                    <option value=\'hard\'>硬解码</option>");
document.writeln("                </select>");
document.writeln("            </div>");
document.writeln("            ");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>添加解码选项:</div>");
document.writeln("                <div style=\'flex: 1;\'>");
document.writeln("                    <div id=\'ijk-new-options\'>");
document.writeln("                        <div class=\'ijk-option-item\'>");
document.writeln("                            <select class=\'ijk-category\'>");
document.writeln("                                <option value=\'1\'>1-OPT_CATEGORY_FORMAT</option>");
document.writeln("                                <option value=\'2\'>2-OPT_CATEGORY_CODEC</option>");
document.writeln("                                <option value=\'3\'>3-OPT_CATEGORY_SWS</option>");
document.writeln("                                <option value=\'4\' selected>4-OPT_CATEGORY_PLAYER</option>");
document.writeln("                            </select>");
document.writeln("                            <input type=\'text\' class=\'ijk-name\' placeholder=\'属性名称\' list=\'ijk-names\'>");
document.writeln("                            <input type=\'text\' class=\'ijk-value\' placeholder=\'属性值\'>");
document.writeln("                            <button class=\'add-ijk-option button-success\'>添加</button>");
document.writeln("                            <button class=\'update-ijk-option button-edit\' style=\'display:none;\'>更新</button>");
document.writeln("                            <button class=\'cancel-ijk-edit button-cancel\' style=\'display:none;\'>取消</button>");
document.writeln("                        </div>");
document.writeln("                    </div>");
document.writeln("                </div>");
document.writeln("            </div>");
document.writeln("            ");
document.writeln("            <datalist id=\'ijk-names\'>");
document.writeln("                <option value=\'opensles\'>");
document.writeln("                <option value=\'overlay-format\'>");
document.writeln("                <option value=\'framedrop\'>");
document.writeln("                <option value=\'soundtouch\'>");
document.writeln("                <option value=\'start-on-prepared\'>");
document.writeln("                <option value=\'http-detect-range-support\'>");
document.writeln("                <option value=\'fflags\'>");
document.writeln("                <option value=\'skip_loop_filter\'>");
document.writeln("                <option value=\'reconnect\'>");
document.writeln("                <option value=\'max-buffer-size\'>");
document.writeln("                <option value=\'enable-accurate-seek\'>");
document.writeln("                <option value=\'mediacodec\'>");
document.writeln("                <option value=\'mediacodec-auto-rotate\'>");
document.writeln("                <option value=\'mediacodec-handle-resolution-change\'>");
document.writeln("                <option value=\'mediacodec-hevc\'>");
document.writeln("            </datalist>");
document.writeln("            ");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>当前解码选项:</div>");
document.writeln("                <textarea id=\'ijk-options\' placeholder=\'每行一个配置项，格式:category|name|value\'></textarea>");
document.writeln("            </div>");
document.writeln("            ");
document.writeln("            <div id=\'ijk-options-list\'></div>");
document.writeln("        </div>");
document.writeln("");
document.writeln("        <div class=\'config-section\' id=\'ad-config\'>");
document.writeln("            <h3>解析广告过滤</h3>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>广告域名:</div>");
document.writeln("                <textarea id=\'ad-domains\' placeholder=\'每行一个广告域名\'>mimg.0c1q0l.cn");
document.writeln("www.googletagmanager.com");
document.writeln("www.google-analytics.com");
document.writeln("mc.usihnbcq.cn");
document.writeln("mg.g1mm3d.cn");
document.writeln("mscs.svaeuzh.cn");
document.writeln("cnzz.hhttm.top");
document.writeln("tp.vinuxhome.com");
document.writeln("cnzz.mmstat.com");
document.writeln("www.baihuillq.com");
document.writeln("s23.cnzz.com");
document.writeln("z3.cnzz.com");
document.writeln("c.cnzz.com");
document.writeln("stj.v1vo.top");
document.writeln("z12.cnzz.com");
document.writeln("img.mosflower.cn");
document.writeln("tips.gamevvip.com");
document.writeln("ehwe.yhdtns.com");
document.writeln("xdn.cqqc3.com");
document.writeln("www.jixunkyy.cn");
document.writeln("sp.chemacid.cn");
document.writeln("hm.baidu.com");
document.writeln("s9.cnzz.com");
document.writeln("z6.cnzz.com");
document.writeln("um.cavuc.com");
document.writeln("mav.mavuz.com");
document.writeln("wofwk.aoidf3.com");
document.writeln("z5.cnzz.com");
document.writeln("xc.hubeijieshikj.cn");
document.writeln("tj.tianwenhu.com");
document.writeln("xg.gars57.cn");
document.writeln("k.jinxiuzhilv.com");
document.writeln("cdn.bootcss.com");
document.writeln("ppl.xunzhuo123.com");
document.writeln("xomk.jiangjunmh.top");
document.writeln("img.xunzhuo123.com");
document.writeln("z1.cnzz.com");
document.writeln("s13.cnzz.com");
document.writeln("xg.huataisangao.cn");
document.writeln("z7.cnzz.com");
document.writeln("xg.huataisangao.cn");
document.writeln("z2.cnzz.com");
document.writeln("s96.cnzz.com");
document.writeln("q11.cnzz.com");
document.writeln("thy.dacedsfa.cn");
document.writeln("xg.whsbpw.cn");
document.writeln("s19.cnzz.com");
document.writeln("z8.cnzz.com");
document.writeln("s4.cnzz.com");
document.writeln("f5w.as12df.top");
document.writeln("ae01.alicdn.com");
document.writeln("www.92424.cn");
document.writeln("k.wudejia.com");
document.writeln("vivovip.mmszxc.top");
document.writeln("qiu.xixiqiu.com");
document.writeln("cdnjs.hnfenxun.com");
document.writeln("cms.qdwght.com</textarea>");
document.writeln("            </div>");
document.writeln("        </div>");
document.writeln("");
document.writeln("        <div class=\'config-section\' id=\'wallpaper-config\'>");
document.writeln("            <h3>壁纸配置</h3>");
document.writeln("            <div class=\'config-row\'>");
document.writeln("                <div class=\'config-label\'>壁纸URL:</div>");
document.writeln("                <input type=\'text\' id=\'wallpaper-url\' placeholder=\'壁纸URL\'>");
document.writeln("            </div>");
document.writeln("        </div>");
document.writeln("");
document.writeln("        <div class=\'json-output\'>");
document.writeln("            <div class=\'json-header\'>");
document.writeln("                <h3>生成的配置JSON</h3>");
document.writeln("                <button id=\'copy-btn\' class=\'button-success\'>复制到剪贴板</button>");
document.writeln("            </div>");
document.writeln("            <textarea id=\'config-json\' readonly></textarea>");
document.writeln("        </div>");
document.writeln("    </div>");
document.writeln("");
document.writeln("    <script>");
document.writeln("        document.addEventListener(\'DOMContentLoaded\', function() {");
document.writeln("            // 初始化配置数据");
document.writeln("            let config = {");
document.writeln("                \'spider\': \'\',");
document.writeln("                \'sites\': [],");
document.writeln("                \'lives\': [],");
document.writeln("                \'parses\': [],");
document.writeln("                \'flags\': [");
document.writeln("                    \'youku\',");
document.writeln("                    \'qq\',");
document.writeln("                    \'iqiyi\',");
document.writeln("                    \'qiyi\',");
document.writeln("                    \'letv\',");
document.writeln("                    \'sohu\',");
document.writeln("                    \'tudou\',");
document.writeln("                    \'pptv\',");
document.writeln("                    \'mgtv\',");
document.writeln("                    \'wasu\'");
document.writeln("                ],");
document.writeln("                \'categories\': [\'电影\', \'电视剧\', \'动漫\', \'综艺\', \'短剧\', \'纪录片\'],");
document.writeln("                \'ijk\': [");
document.writeln("                    {");
document.writeln("                        \'group\': \'软解码\',");
document.writeln("                        \'options\': [");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'opensles\',");
document.writeln("                                \'value\': \'0\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'overlay-format\',");
document.writeln("                                \'value\': \'842225234\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'framedrop\',");
document.writeln("                                \'value\': \'1\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'soundtouch\',");
document.writeln("                                \'value\': \'1\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'start-on-prepared\',");
document.writeln("                                \'value\': \'1\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 1,");
document.writeln("                                \'name\': \'http-detect-range-support\',");
document.writeln("                                \'value\': \'0\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 1,");
document.writeln("                                \'name\': \'fflags\',");
document.writeln("                                \'value\': \'fastseek\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 2,");
document.writeln("                                \'name\': \'skip_loop_filter\',");
document.writeln("                                \'value\': \'48\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'reconnect\',");
document.writeln("                                \'value\': \'1\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'max-buffer-size\',");
document.writeln("                                \'value\': \'5242880\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'enable-accurate-seek\',");
document.writeln("                                \'value\': \'0\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'mediacodec\',");
document.writeln("                                \'value\': \'0\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'mediacodec-auto-rotate\',");
document.writeln("                                \'value\': \'0\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'mediacodec-handle-resolution-change\',");
document.writeln("                                \'value\': \'0\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'mediacodec-hevc\',");
document.writeln("                                \'value\': \'0\'");
document.writeln("                            }");
document.writeln("                        ]");
document.writeln("                    },");
document.writeln("                    {");
document.writeln("                        \'group\': \'硬解码\',");
document.writeln("                        \'options\': [");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'opensles\',");
document.writeln("                                \'value\': \'0\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'overlay-format\',");
document.writeln("                                \'value\': \'842225234\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'framedrop\',");
document.writeln("                                \'value\': \'1\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'soundtouch\',");
document.writeln("                                \'value\': \'1\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'start-on-prepared\',");
document.writeln("                                \'value\': \'1\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 1,");
document.writeln("                                \'name\': \'http-detect-range-support\',");
document.writeln("                                \'value\': \'0\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 1,");
document.writeln("                                \'name\': \'fflags\',");
document.writeln("                                \'value\': \'fastseek\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 2,");
document.writeln("                                \'name\': \'skip_loop_filter\',");
document.writeln("                                \'value\': \'48\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'reconnect\',");
document.writeln("                                \'value\': \'1\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'max-buffer-size\',");
document.writeln("                                \'value\': \'5242880\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'enable-accurate-seek\',");
document.writeln("                                \'value\': \'0\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'mediacodec\',");
document.writeln("                                \'value\': \'1\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'mediacodec-auto-rotate\',");
document.writeln("                                \'value\': \'1\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'mediacodec-handle-resolution-change\',");
document.writeln("                                \'value\': \'1\'");
document.writeln("                            },");
document.writeln("                            {");
document.writeln("                                \'category\': 4,");
document.writeln("                                \'name\': \'mediacodec-hevc\',");
document.writeln("                                \'value\': \'1\'");
document.writeln("                            }");
document.writeln("                        ]");
document.writeln("                    }");
document.writeln("                ],");
document.writeln("                \'ads\': [");
document.writeln("                    \'mimg.0c1q0l.cn\',");
document.writeln("                    \'www.googletagmanager.com\',");
document.writeln("                    \'www.google-analytics.com\',");
document.writeln("                    \'mc.usihnbcq.cn\',");
document.writeln("                    \'mg.g1mm3d.cn\',");
document.writeln("                    \'mscs.svaeuzh.cn\',");
document.writeln("                    \'cnzz.hhttm.top\',");
document.writeln("                    \'tp.vinuxhome.com\',");
document.writeln("                    \'cnzz.mmstat.com\',");
document.writeln("                    \'www.baihuillq.com\',");
document.writeln("                    \'s23.cnzz.com\',");
document.writeln("                    \'z3.cnzz.com\',");
document.writeln("                    \'c.cnzz.com\',");
document.writeln("                    \'stj.v1vo.top\',");
document.writeln("                    \'z12.cnzz.com\',");
document.writeln("                    \'img.mosflower.cn\',");
document.writeln("                    \'tips.gamevvip.com\',");
document.writeln("                    \'ehwe.yhdtns.com\',");
document.writeln("                    \'xdn.cqqc3.com\',");
document.writeln("                    \'www.jixunkyy.cn\',");
document.writeln("                    \'sp.chemacid.cn\',");
document.writeln("                    \'hm.baidu.com\',");
document.writeln("                    \'s9.cnzz.com\',");
document.writeln("                    \'z6.cnzz.com\',");
document.writeln("                    \'um.cavuc.com\',");
document.writeln("                    \'mav.mavuz.com\',");
document.writeln("                    \'wofwk.aoidf3.com\',");
document.writeln("                    \'z5.cnzz.com\',");
document.writeln("                    \'xc.hubeijieshikj.cn\',");
document.writeln("                    \'tj.tianwenhu.com\',");
document.writeln("                    \'xg.gars57.cn\',");
document.writeln("                    \'k.jinxiuzhilv.com\',");
document.writeln("                    \'cdn.bootcss.com\',");
document.writeln("                    \'ppl.xunzhuo123.com\',");
document.writeln("                    \'xomk.jiangjunmh.top\',");
document.writeln("                    \'img.xunzhuo123.com\',");
document.writeln("                    \'z1.cnzz.com\',");
document.writeln("                    \'s13.cnzz.com\',");
document.writeln("                    \'xg.huataisangao.cn\',");
document.writeln("                    \'z7.cnzz.com\',");
document.writeln("                    \'xg.huataisangao.cn\',");
document.writeln("                    \'z2.cnzz.com\',");
document.writeln("                    \'s96.cnzz.com\',");
document.writeln("                    \'q11.cnzz.com\',");
document.writeln("                    \'thy.dacedsfa.cn\',");
document.writeln("                    \'xg.whsbpw.cn\',");
document.writeln("                    \'s19.cnzz.com\',");
document.writeln("                    \'z8.cnzz.com\',");
document.writeln("                    \'s4.cnzz.com\',");
document.writeln("                    \'f5w.as12df.top\',");
document.writeln("                    \'ae01.alicdn.com\',");
document.writeln("                    \'www.92424.cn\',");
document.writeln("                    \'k.wudejia.com\',");
document.writeln("                    \'vivovip.mmszxc.top\',");
document.writeln("                    \'qiu.xixiqiu.com\',");
document.writeln("                    \'cdnjs.hnfenxun.com\',");
document.writeln("                    \'cms.qdwght.com\'");
document.writeln("                ],");
document.writeln("                \'wallpaper\': \'\'");
document.writeln("            };");
document.writeln("");
document.writeln("            // DOM元素");
document.writeln("            const tabBtns = document.querySelectorAll(\'.tab-btn\');");
document.writeln("            const addVodBtn = document.getElementById(\'add-vod-btn\');");
document.writeln("            const updateVodBtn = document.getElementById(\'update-vod-btn\');");
document.writeln("            const cancelEditBtn = document.getElementById(\'cancel-edit-btn\');");
document.writeln("            const addLiveChannelBtn = document.getElementById(\'add-live-channel-btn\');");
document.writeln("            const updateLiveChannelBtn = document.getElementById(\'update-live-channel-btn\');");
document.writeln("            const cancelLiveEditBtn = document.getElementById(\'cancel-live-edit-btn\');");
document.writeln("            const addParseBtn = document.getElementById(\'add-parse-btn\');");
document.writeln("            const updateParseBtn = document.getElementById(\'update-parse-btn\');");
document.writeln("            const cancelParseEditBtn = document.getElementById(\'cancel-parse-edit-btn\');");
document.writeln("            const addUrlBtn = document.getElementById(\'add-url-btn\');");
document.writeln("            const copyBtn = document.getElementById(\'copy-btn\');");
document.writeln("            const configJson = document.getElementById(\'config-json\');");
document.writeln("            const vodItems = document.getElementById(\'vod-items\');");
document.writeln("            const liveChannelsList = document.getElementById(\'live-channels-list\');");
document.writeln("            const parseList = document.getElementById(\'parse-list\');");
document.writeln("            const liveUrlsList = document.getElementById(\'live-urls-list\');");
document.writeln("            const addCategoryBtn = document.getElementById(\'add-category-btn\');");
document.writeln("            const categorySelect = document.getElementById(\'category-select\');");
document.writeln("            const categoriesList = document.getElementById(\'categories-list\');");
document.writeln("            const parseUrlInput = document.getElementById(\'parse-url\');");
document.writeln("            const parseExtInput = document.getElementById(\'parse-ext\');");
document.writeln("            const wallpaperUrlInput = document.getElementById(\'wallpaper-url\');");
document.writeln("            const liveGroupInput = document.getElementById(\'live-group\');");
document.writeln("            const liveChannelNameInput = document.getElementById(\'live-channel-name\');");
document.writeln("            const vipFlagsInput = document.getElementById(\'vip-flags\');");
document.writeln("            const ijkGroupSelect = document.getElementById(\'ijk-group\');");
document.writeln("            const ijkOptionsTextarea = document.getElementById(\'ijk-options\');");
document.writeln("            const adDomainsTextarea = document.getElementById(\'ad-domains\');");
document.writeln("            const globalSpiderInput = document.getElementById(\'global-spider\');");
document.writeln("            const vodExtInput = document.getElementById(\'vod-ext\');");
document.writeln("            const addIjkOptionBtn = document.querySelector(\'.add-ijk-option\');");
document.writeln("            const updateIjkOptionBtn = document.querySelector(\'.update-ijk-option\');");
document.writeln("            const cancelIjkEditBtn = document.querySelector(\'.cancel-ijk-edit\');");
document.writeln("            const ijkCategorySelect = document.querySelector(\'.ijk-category\');");
document.writeln("            const ijkNameInput = document.querySelector(\'.ijk-name\');");
document.writeln("            const ijkValueInput = document.querySelector(\'.ijk-value\');");
document.writeln("            const ijkOptionsList = document.getElementById(\'ijk-options-list\');");
document.writeln("");
document.writeln("            // 编辑相关变量");
document.writeln("            let draggedItem = null;");
document.writeln("            let dragStartIndex = -1;");
document.writeln("            let editingIndex = -1;");
document.writeln("            let editingLiveGroupIndex = -1;");
document.writeln("            let editingLiveChannelIndex = -1;");
document.writeln("            let editingParseIndex = -1;");
document.writeln("            let editingIjkOptionIndex = -1;");
document.writeln("            let currentIjkGroup = \'soft\';");
document.writeln("");
document.writeln("            // 标签页切换");
document.writeln("            tabBtns.forEach(btn => {");
document.writeln("                btn.addEventListener(\'click\', function() {");
document.writeln("                    const tab = this.dataset.tab;");
document.writeln("                    tabBtns.forEach(b => b.classList.remove(\'active\'));");
document.writeln("                    this.classList.add(\'active\');");
document.writeln("                    document.querySelectorAll(\'.config-section\').forEach(section => {");
document.writeln("                        section.classList.remove(\'active\');");
document.writeln("                    });");
document.writeln("                    document.getElementById(`${tab}-config`).classList.add(\'active\');");
document.writeln("                });");
document.writeln("            });");
document.writeln("");
document.writeln("            // 添加点播源");
document.writeln("            addVodBtn.addEventListener(\'click\', function() {");
document.writeln("                const key = document.getElementById(\'vod-key\').value.trim();");
document.writeln("                const name = document.getElementById(\'vod-name\').value.trim();");
document.writeln("                const api = document.getElementById(\'vod-api\').value.trim();");
document.writeln("                const ext = vodExtInput.value.trim();");
document.writeln("                ");
document.writeln("                if (!key || !name || !api) {");
document.writeln("                    alert(\'请填写完整的点播源信息!\');");
document.writeln("                    return;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                const newSite = {");
document.writeln("                    key: key,");
document.writeln("                    name: name,");
document.writeln("                    type: parseInt(document.getElementById(\'vod-type\').value),");
document.writeln("                    api: api,");
document.writeln("                    searchable: parseInt(document.getElementById(\'vod-searchable\').value),");
document.writeln("                    quickSearch: parseInt(document.getElementById(\'vod-quickSearch\').value),");
document.writeln("                    filterable: parseInt(document.getElementById(\'vod-filterable\').value)");
document.writeln("                };");
document.writeln("                ");
document.writeln("                if (ext) {");
document.writeln("                    newSite.ext = ext;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                if (config.categories && config.categories.length > 0) {");
document.writeln("                    newSite.categories = [...config.categories];");
document.writeln("                }");
document.writeln("                ");
document.writeln("                config.sites.push(newSite);");
document.writeln("                updateConfigJson();");
document.writeln("                loadVodItems();");
document.writeln("                ");
document.writeln("                clearVodForm();");
document.writeln("            });");
document.writeln("");
document.writeln("            // 更新点播源");
document.writeln("            updateVodBtn.addEventListener(\'click\', function() {");
document.writeln("                if (editingIndex === -1) return;");
document.writeln("                ");
document.writeln("                const key = document.getElementById(\'vod-key\').value.trim();");
document.writeln("                const name = document.getElementById(\'vod-name\').value.trim();");
document.writeln("                const api = document.getElementById(\'vod-api\').value.trim();");
document.writeln("                const ext = vodExtInput.value.trim();");
document.writeln("                ");
document.writeln("                if (!key || !name || !api) {");
document.writeln("                    alert(\'请填写完整的点播源信息!\');");
document.writeln("                    return;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                const updatedSite = {");
document.writeln("                    key: key,");
document.writeln("                    name: name,");
document.writeln("                    type: parseInt(document.getElementById(\'vod-type\').value),");
document.writeln("                    api: api,");
document.writeln("                    searchable: parseInt(document.getElementById(\'vod-searchable\').value),");
document.writeln("                    quickSearch: parseInt(document.getElementById(\'vod-quickSearch\').value),");
document.writeln("                    filterable: parseInt(document.getElementById(\'vod-filterable\').value)");
document.writeln("                };");
document.writeln("                ");
document.writeln("                if (ext) {");
document.writeln("                    updatedSite.ext = ext;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                if (config.categories && config.categories.length > 0) {");
document.writeln("                    updatedSite.categories = [...config.categories];");
document.writeln("                }");
document.writeln("                ");
document.writeln("                config.sites[editingIndex] = updatedSite;");
document.writeln("                updateConfigJson();");
document.writeln("                loadVodItems();");
document.writeln("                ");
document.writeln("                cancelEdit();");
document.writeln("            });");
document.writeln("");
document.writeln("            // 取消编辑");
document.writeln("            cancelEditBtn.addEventListener(\'click\', function() {");
document.writeln("                cancelEdit();");
document.writeln("            });");
document.writeln("");
document.writeln("            function cancelEdit() {");
document.writeln("                editingIndex = -1;");
document.writeln("                addVodBtn.style.display = \'inline-block\';");
document.writeln("                updateVodBtn.style.display = \'none\';");
document.writeln("                cancelEditBtn.style.display = \'none\';");
document.writeln("                clearVodForm();");
document.writeln("            }");
document.writeln("");
document.writeln("            function clearVodForm() {");
document.writeln("                document.getElementById(\'vod-key\').value = \'\';");
document.writeln("                document.getElementById(\'vod-name\').value = \'\';");
document.writeln("                document.getElementById(\'vod-api\').value = \'\';");
document.writeln("                vodExtInput.value = \'\';");
document.writeln("            }");
document.writeln("");
document.writeln("            // 添加URL按钮");
document.writeln("            addUrlBtn.addEventListener(\'click\', function() {");
document.writeln("                const urlItem = document.createElement(\'div\');");
document.writeln("                urlItem.className = \'url-item\';");
document.writeln("                urlItem.innerHTML = `");
document.writeln("                    <input type=\'text\' class=\'live-url\' placeholder=\'直播源URL\'>");
document.writeln("                    <button class=\'remove-url button-cancel\'>删除</button>");
document.writeln("                `;");
document.writeln("                liveUrlsList.appendChild(urlItem);");
document.writeln("                ");
document.writeln("                urlItem.querySelector(\'.remove-url\').addEventListener(\'click\', function() {");
document.writeln("                    urlItem.remove();");
document.writeln("                });");
document.writeln("            });");
document.writeln("");
document.writeln("            // 添加直播频道");
document.writeln("            addLiveChannelBtn.addEventListener(\'click\', function() {");
document.writeln("                const group = liveGroupInput.value.trim();");
document.writeln("                const name = liveChannelNameInput.value.trim();");
document.writeln("                const urlInputs = document.querySelectorAll(\'.live-url\');");
document.writeln("                const urls = Array.from(urlInputs).map(input => input.value.trim()).filter(url => url);");
document.writeln("                ");
document.writeln("                if (!group || !name || urls.length === 0) {");
document.writeln("                    alert(\'请填写完整的直播频道信息!\');");
document.writeln("                    return;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                let liveGroup = config.lives.find(g => g.group === group);");
document.writeln("                ");
document.writeln("                if (!liveGroup) {");
document.writeln("                    liveGroup = {");
document.writeln("                        group: group,");
document.writeln("                        channels: []");
document.writeln("                    };");
document.writeln("                    config.lives.push(liveGroup);");
document.writeln("                }");
document.writeln("                ");
document.writeln("                liveGroup.channels.push({");
document.writeln("                    name: name,");
document.writeln("                    urls: urls");
document.writeln("                });");
document.writeln("                ");
document.writeln("                updateConfigJson();");
document.writeln("                loadLiveChannels();");
document.writeln("                ");
document.writeln("                clearLiveForm();");
document.writeln("            });");
document.writeln("");
document.writeln("            // 更新直播频道");
document.writeln("            updateLiveChannelBtn.addEventListener(\'click\', function() {");
document.writeln("                if (editingLiveGroupIndex === -1 || editingLiveChannelIndex === -1) return;");
document.writeln("                ");
document.writeln("                const group = liveGroupInput.value.trim();");
document.writeln("                const name = liveChannelNameInput.value.trim();");
document.writeln("                const urlInputs = document.querySelectorAll(\'.live-url\');");
document.writeln("                const urls = Array.from(urlInputs).map(input => input.value.trim()).filter(url => url);");
document.writeln("                ");
document.writeln("                if (!group || !name || urls.length === 0) {");
document.writeln("                    alert(\'请填写完整的直播频道信息!\');");
document.writeln("                    return;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                // 如果组名改变了，需要创建新组");
document.writeln("                if (group !== config.lives[editingLiveGroupIndex].group) {");
document.writeln("                    // 从原组删除");
document.writeln("                    config.lives[editingLiveGroupIndex].channels.splice(editingLiveChannelIndex, 1);");
document.writeln("                    ");
document.writeln("                    // 如果原组空了，删除组");
document.writeln("                    if (config.lives[editingLiveGroupIndex].channels.length === 0) {");
document.writeln("                        config.lives.splice(editingLiveGroupIndex, 1);");
document.writeln("                    }");
document.writeln("                    ");
document.writeln("                    // 查找或创建新组");
document.writeln("                    let newGroup = config.lives.find(g => g.group === group);");
document.writeln("                    if (!newGroup) {");
document.writeln("                        newGroup = {");
document.writeln("                            group: group,");
document.writeln("                            channels: []");
document.writeln("                        };");
document.writeln("                        config.lives.push(newGroup);");
document.writeln("                    }");
document.writeln("                    ");
document.writeln("                    // 添加到新组");
document.writeln("                    newGroup.channels.push({");
document.writeln("                        name: name,");
document.writeln("                        urls: urls");
document.writeln("                    });");
document.writeln("                } else {");
document.writeln("                    // 组名没变，直接更新");
document.writeln("                    config.lives[editingLiveGroupIndex].channels[editingLiveChannelIndex] = {");
document.writeln("                        name: name,");
document.writeln("                        urls: urls");
document.writeln("                    };");
document.writeln("                }");
document.writeln("                ");
document.writeln("                updateConfigJson();");
document.writeln("                loadLiveChannels();");
document.writeln("                ");
document.writeln("                cancelLiveEdit();");
document.writeln("            });");
document.writeln("");
document.writeln("            // 取消直播编辑");
document.writeln("            cancelLiveEditBtn.addEventListener(\'click\', function() {");
document.writeln("                cancelLiveEdit();");
document.writeln("            });");
document.writeln("");
document.writeln("            function cancelLiveEdit() {");
document.writeln("                editingLiveGroupIndex = -1;");
document.writeln("                editingLiveChannelIndex = -1;");
document.writeln("                addLiveChannelBtn.style.display = \'inline-block\';");
document.writeln("                updateLiveChannelBtn.style.display = \'none\';");
document.writeln("                cancelLiveEditBtn.style.display = \'none\';");
document.writeln("                clearLiveForm();");
document.writeln("            }");
document.writeln("");
document.writeln("            function clearLiveForm() {");
document.writeln("                liveGroupInput.value = \'\';");
document.writeln("                liveChannelNameInput.value = \'\';");
document.writeln("                liveUrlsList.innerHTML = `");
document.writeln("                    <div class=\'url-item\'>");
document.writeln("                        <input type=\'text\' class=\'live-url\' placeholder=\'直播源URL\'>");
document.writeln("                        <button class=\'remove-url button-cancel\'>删除</button>");
document.writeln("                    </div>");
document.writeln("                `;");
document.writeln("                ");
document.writeln("                document.querySelectorAll(\'.remove-url\').forEach(btn => {");
document.writeln("                    btn.addEventListener(\'click\', function() {");
document.writeln("                        this.parentElement.remove();");
document.writeln("                    });");
document.writeln("                });");
document.writeln("            }");
document.writeln("");
document.writeln("            // 添加解析地址");
document.writeln("            addParseBtn.addEventListener(\'click\', function() {");
document.writeln("                const name = document.getElementById(\'parse-name\').value.trim();");
document.writeln("                const type = parseInt(document.getElementById(\'parse-type\').value);");
document.writeln("                const url = parseUrlInput.value.trim();");
document.writeln("                const ext = parseExtInput.value.trim();");
document.writeln("                ");
document.writeln("                if (!name || !url) {");
document.writeln("                    alert(\'请填写完整的解析地址信息!\');");
document.writeln("                    return;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                const newParse = {");
document.writeln("                    name: name,");
document.writeln("                    type: type,");
document.writeln("                    url: url");
document.writeln("                };");
document.writeln("                ");
document.writeln("                if (ext) {");
document.writeln("                    newParse.ext = ext;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                config.parses.push(newParse);");
document.writeln("                ");
document.writeln("                updateConfigJson();");
document.writeln("                loadParses();");
document.writeln("                ");
document.writeln("                clearParseForm();");
document.writeln("            });");
document.writeln("");
document.writeln("            // 更新解析地址");
document.writeln("            updateParseBtn.addEventListener(\'click\', function() {");
document.writeln("                if (editingParseIndex === -1) return;");
document.writeln("                ");
document.writeln("                const name = document.getElementById(\'parse-name\').value.trim();");
document.writeln("                const type = parseInt(document.getElementById(\'parse-type\').value);");
document.writeln("                const url = parseUrlInput.value.trim();");
document.writeln("                const ext = parseExtInput.value.trim();");
document.writeln("                ");
document.writeln("                if (!name || !url) {");
document.writeln("                    alert(\'请填写完整的解析地址信息!\');");
document.writeln("                    return;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                const updatedParse = {");
document.writeln("                    name: name,");
document.writeln("                    type: type,");
document.writeln("                    url: url");
document.writeln("                };");
document.writeln("                ");
document.writeln("                if (ext) {");
document.writeln("                    updatedParse.ext = ext;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                config.parses[editingParseIndex] = updatedParse;");
document.writeln("                ");
document.writeln("                updateConfigJson();");
document.writeln("                loadParses();");
document.writeln("                ");
document.writeln("                cancelParseEdit();");
document.writeln("            });");
document.writeln("");
document.writeln("            // 取消解析编辑");
document.writeln("            cancelParseEditBtn.addEventListener(\'click\', function() {");
document.writeln("                cancelParseEdit();");
document.writeln("            });");
document.writeln("");
document.writeln("            function cancelParseEdit() {");
document.writeln("                editingParseIndex = -1;");
document.writeln("                addParseBtn.style.display = \'inline-block\';");
document.writeln("                updateParseBtn.style.display = \'none\';");
document.writeln("                cancelParseEditBtn.style.display = \'none\';");
document.writeln("                clearParseForm();");
document.writeln("            }");
document.writeln("");
document.writeln("            function clearParseForm() {");
document.writeln("                document.getElementById(\'parse-name\').value = \'\';");
document.writeln("                document.getElementById(\'parse-type\').value = \'0\';");
document.writeln("                parseUrlInput.value = \'\';");
document.writeln("                parseExtInput.value = \'\';");
document.writeln("            }");
document.writeln("");
document.writeln("            // 添加分类");
document.writeln("            addCategoryBtn.addEventListener(\'click\', function() {");
document.writeln("                const category = categorySelect.value;");
document.writeln("                if (!config.categories) {");
document.writeln("                    config.categories = [];");
document.writeln("                }");
document.writeln("                ");
document.writeln("                if (!config.categories.includes(category)) {");
document.writeln("                    config.categories.push(category);");
document.writeln("                    updateConfigJson();");
document.writeln("                    loadCategories();");
document.writeln("                }");
document.writeln("            });");
document.writeln("");
document.writeln("            // 添加IJK解码选项");
document.writeln("            addIjkOptionBtn.addEventListener(\'click\', function() {");
document.writeln("                const group = ijkGroupSelect.value;");
document.writeln("                const category = ijkCategorySelect.value;");
document.writeln("                const name = ijkNameInput.value.trim();");
document.writeln("                const value = ijkValueInput.value.trim();");
document.writeln("                ");
document.writeln("                if (!name || !value) {");
document.writeln("                    alert(\'请填写完整的解码选项信息!\');");
document.writeln("                    return;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                // 找到对应的解码组");
document.writeln("                const ijkGroup = config.ijk.find(g => g.group === (group === \'soft\' ? \'软解码\' : \'硬解码\'));");
document.writeln("                ");
document.writeln("                if (!ijkGroup) {");
document.writeln("                    alert(\'找不到对应的解码组!\');");
document.writeln("                    return;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                // 添加新选项");
document.writeln("                ijkGroup.options.push({");
document.writeln("                    category: parseInt(category),");
document.writeln("                    name: name,");
document.writeln("                    value: value");
document.writeln("                });");
document.writeln("                ");
document.writeln("                // 更新文本区域显示");
document.writeln("                updateIjkOptionsTextarea();");
document.writeln("                loadIjkOptions();");
document.writeln("                ");
document.writeln("                // 清空输入框");
document.writeln("                clearIjkForm();");
document.writeln("                ");
document.writeln("                // 自动更新配置");
document.writeln("                updateConfigJson();");
document.writeln("            });");
document.writeln("");
document.writeln("            // 更新IJK解码选项");
document.writeln("            updateIjkOptionBtn.addEventListener(\'click\', function() {");
document.writeln("                if (editingIjkOptionIndex === -1) return;");
document.writeln("                ");
document.writeln("                const group = ijkGroupSelect.value;");
document.writeln("                const category = ijkCategorySelect.value;");
document.writeln("                const name = ijkNameInput.value.trim();");
document.writeln("                const value = ijkValueInput.value.trim();");
document.writeln("                ");
document.writeln("                if (!name || !value) {");
document.writeln("                    alert(\'请填写完整的解码选项信息!\');");
document.writeln("                    return;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                // 找到对应的解码组");
document.writeln("                const ijkGroup = config.ijk.find(g => g.group === (group === \'soft\' ? \'软解码\' : \'硬解码\'));");
document.writeln("                ");
document.writeln("                if (!ijkGroup) {");
document.writeln("                    alert(\'找不到对应的解码组!\');");
document.writeln("                    return;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                // 更新选项");
document.writeln("                ijkGroup.options[editingIjkOptionIndex] = {");
document.writeln("                    category: parseInt(category),");
document.writeln("                    name: name,");
document.writeln("                    value: value");
document.writeln("                };");
document.writeln("                ");
document.writeln("                // 更新文本区域显示");
document.writeln("                updateIjkOptionsTextarea();");
document.writeln("                loadIjkOptions();");
document.writeln("                ");
document.writeln("                // 取消编辑状态");
document.writeln("                cancelIjkEdit();");
document.writeln("                ");
document.writeln("                // 自动更新配置");
document.writeln("                updateConfigJson();");
document.writeln("            });");
document.writeln("");
document.writeln("            // 取消IJK编辑");
document.writeln("            cancelIjkEditBtn.addEventListener(\'click\', function() {");
document.writeln("                cancelIjkEdit();");
document.writeln("            });");
document.writeln("");
document.writeln("            function cancelIjkEdit() {");
document.writeln("                editingIjkOptionIndex = -1;");
document.writeln("                addIjkOptionBtn.style.display = \'inline-block\';");
document.writeln("                updateIjkOptionBtn.style.display = \'none\';");
document.writeln("                cancelIjkEditBtn.style.display = \'none\';");
document.writeln("                clearIjkForm();");
document.writeln("            }");
document.writeln("");
document.writeln("            function clearIjkForm() {");
document.writeln("                ijkCategorySelect.value = \'4\';");
document.writeln("                ijkNameInput.value = \'\';");
document.writeln("                ijkValueInput.value = \'\';");
document.writeln("            }");
document.writeln("");
document.writeln("            // 更新IJK选项文本区域");
document.writeln("            function updateIjkOptionsTextarea() {");
document.writeln("                const group = ijkGroupSelect.value;");
document.writeln("                const ijkGroup = config.ijk.find(g => g.group === (group === \'soft\' ? \'软解码\' : \'硬解码\'));");
document.writeln("                ");
document.writeln("                if (ijkGroup) {");
document.writeln("                    ijkOptionsTextarea.value = ");
document.writeln("                        ijkGroup.options.map(opt => `${opt.category}|${opt.name}|${opt.value}`).join(\'\/\/n\');");
document.writeln("                }");
document.writeln("            }");
document.writeln("");
document.writeln("            // 加载IJK选项列表");
document.writeln("            function loadIjkOptions() {");
document.writeln("                ijkOptionsList.innerHTML = \'\';");
document.writeln("                ");
document.writeln("                const group = ijkGroupSelect.value;");
document.writeln("                const ijkGroup = config.ijk.find(g => g.group === (group === \'soft\' ? \'软解码\' : \'硬解码\'));");
document.writeln("                ");
document.writeln("                if (!ijkGroup || ijkGroup.options.length === 0) {");
document.writeln("                    return;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                ijkGroup.options.forEach((option, index) => {");
document.writeln("                    const item = document.createElement(\'div\');");
document.writeln("                    item.className = \'ijk-option-item\';");
document.writeln("                    item.innerHTML = `");
document.writeln("                        <select disabled>");
document.writeln("                            <option value=\'1\' ${option.category === 1 ? \'selected\' : \'\'}>1-OPT_CATEGORY_FORMAT</option>");
document.writeln("                            <option value=\'2\' ${option.category === 2 ? \'selected\' : \'\'}>2-OPT_CATEGORY_CODEC</option>");
document.writeln("                            <option value=\'3\' ${option.category === 3 ? \'selected\' : \'\'}>3-OPT_CATEGORY_SWS</option>");
document.writeln("                            <option value=\'4\' ${option.category === 4 ? \'selected\' : \'\'}>4-OPT_CATEGORY_PLAYER</option>");
document.writeln("                        </select>");
document.writeln("                        <input type=\'text\' value=\'${option.name}\' disabled>");
document.writeln("                        <input type=\'text\' value=\'${option.value}\' disabled>");
document.writeln("                        <button class=\'button-edit edit-ijk-option\' data-index=\'${index}\'>编辑</button>");
document.writeln("                        <button class=\'button-cancel delete-ijk-option\' data-index=\'${index}\'>删除</button>");
document.writeln("                    `;");
document.writeln("                    ijkOptionsList.appendChild(item);");
document.writeln("                });");
document.writeln("                ");
document.writeln("                // 添加编辑事件");
document.writeln("                document.querySelectorAll(\'.edit-ijk-option\').forEach(btn => {");
document.writeln("                    btn.addEventListener(\'click\', function() {");
document.writeln("                        const index = parseInt(this.dataset.index);");
document.writeln("                        const group = ijkGroupSelect.value;");
document.writeln("                        const ijkGroup = config.ijk.find(g => g.group === (group === \'soft\' ? \'软解码\' : \'硬解码\'));");
document.writeln("                        const option = ijkGroup.options[index];");
document.writeln("                        ");
document.writeln("                        // 填充表单");
document.writeln("                        ijkCategorySelect.value = option.category;");
document.writeln("                        ijkNameInput.value = option.name;");
document.writeln("                        ijkValueInput.value = option.value;");
document.writeln("                        ");
document.writeln("                        // 切换按钮状态");
document.writeln("                        editingIjkOptionIndex = index;");
document.writeln("                        addIjkOptionBtn.style.display = \'none\';");
document.writeln("                        updateIjkOptionBtn.style.display = \'inline-block\';");
document.writeln("                        cancelIjkEditBtn.style.display = \'inline-block\';");
document.writeln("                    });");
document.writeln("                });");
document.writeln("                ");
document.writeln("                // 添加删除事件");
document.writeln("                document.querySelectorAll(\'.delete-ijk-option\').forEach(btn => {");
document.writeln("                    btn.addEventListener(\'click\', function() {");
document.writeln("                        const index = parseInt(this.dataset.index);");
document.writeln("                        const group = ijkGroupSelect.value;");
document.writeln("                        const ijkGroup = config.ijk.find(g => g.group === (group === \'soft\' ? \'软解码\' : \'硬解码\'));");
document.writeln("                        ");
document.writeln("                        ijkGroup.options.splice(index, 1);");
document.writeln("                        ");
document.writeln("                        // 更新文本区域显示");
document.writeln("                        updateIjkOptionsTextarea();");
document.writeln("                        loadIjkOptions();");
document.writeln("                        updateConfigJson();");
document.writeln("                    });");
document.writeln("                });");
document.writeln("            }");
document.writeln("");
document.writeln("            // IJK解码组切换");
document.writeln("            ijkGroupSelect.addEventListener(\'change\', function() {");
document.writeln("                updateIjkOptionsTextarea();");
document.writeln("                loadIjkOptions();");
document.writeln("                clearIjkForm();");
document.writeln("            });");
document.writeln("");
document.writeln("            // 加载分类列表");
document.writeln("            function loadCategories() {");
document.writeln("                categoriesList.innerHTML = \'\';");
document.writeln("                ");
document.writeln("                if (!config.categories || config.categories.length === 0) {");
document.writeln("                    return;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                config.categories.forEach((category, index) => {");
document.writeln("                    const tag = document.createElement(\'div\');");
document.writeln("                    tag.className = \'category-tag\';");
document.writeln("                    tag.innerHTML = `");
document.writeln("                        ${category}");
document.writeln("                        <button data-index=\'${index}\' class=\'delete-category\'>×</button>");
document.writeln("                    `;");
document.writeln("                    categoriesList.appendChild(tag);");
document.writeln("                });");
document.writeln("                ");
document.writeln("                document.querySelectorAll(\'.delete-category\').forEach(btn => {");
document.writeln("                    btn.addEventListener(\'click\', function() {");
document.writeln("                        const index = parseInt(this.dataset.index);");
document.writeln("                        config.categories.splice(index, 1);");
document.writeln("                        updateConfigJson();");
document.writeln("                        loadCategories();");
document.writeln("                    });");
document.writeln("                });");
document.writeln("            }");
document.writeln("");
document.writeln("            // 加载点播源列表");
document.writeln("            function loadVodItems() {");
document.writeln("                vodItems.innerHTML = \'\';");
document.writeln("                ");
document.writeln("                if (config.sites.length === 0) {");
document.writeln("                    return;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                config.sites.forEach((site, index) => {");
document.writeln("                    const item = document.createElement(\'div\');");
document.writeln("                    item.className = \'source-item\';");
document.writeln("                    item.draggable = true;");
document.writeln("                    item.dataset.index = index;");
document.writeln("                    ");
document.writeln("                    let categoriesHtml = \'\';");
document.writeln("                    if (site.categories && site.categories.length > 0) {");
document.writeln("                        categoriesHtml = `<p>分类: ${site.categories.join(\', \')}</p>`;");
document.writeln("                    }");
document.writeln("                    ");
document.writeln("                    let extHtml = site.ext ? `<p>Ext: ${site.ext}</p>` : \'\';");
document.writeln("                    ");
document.writeln("                    item.innerHTML = `");
document.writeln("                        <span class=\'drag-handle\'>☰</span>");
document.writeln("                        <div style=\'flex: 1;\'>");
document.writeln("                            <h4>${site.name} (${site.key})</h4>");
document.writeln("                            <p>API: ${site.api}</p>");
document.writeln("                            <p>类型: ${getTypeName(site.type)} | 可搜索: ${site.searchable} | 可快速搜索: ${site.quickSearch} | 可筛选: ${site.filterable}</p>");
document.writeln("                            ${extHtml}");
document.writeln("                            ${categoriesHtml}");
document.writeln("                        </div>");
document.writeln("                        <div class=\'source-item-actions\'>");
document.writeln("                            <button data-index=\'${index}\' class=\'button-edit edit-vod\'>编辑</button>");
document.writeln("                            <button data-index=\'${index}\' class=\'button-cancel delete-vod\'>删除</button>");
document.writeln("                        </div>");
document.writeln("                    `;");
document.writeln("                    vodItems.appendChild(item);");
document.writeln("                    ");
document.writeln("                    item.addEventListener(\'dragstart\', handleDragStart);");
document.writeln("                    item.addEventListener(\'dragover\', handleDragOver);");
document.writeln("                    item.addEventListener(\'dragleave\', handleDragLeave);");
document.writeln("                    item.addEventListener(\'drop\', handleDrop);");
document.writeln("                    item.addEventListener(\'dragend\', handleDragEnd);");
document.writeln("                    ");
document.writeln("                    const dragHandle = item.querySelector(\'.drag-handle\');");
document.writeln("                    dragHandle.addEventListener(\'mousedown\', function() {");
document.writeln("                        item.draggable = true;");
document.writeln("                    });");
document.writeln("                    dragHandle.addEventListener(\'mouseup\', function() {");
document.writeln("                        item.draggable = false;");
document.writeln("                    });");
document.writeln("                });");
document.writeln("                ");
document.writeln("                // 添加编辑事件");
document.writeln("                document.querySelectorAll(\'.edit-vod\').forEach(btn => {");
document.writeln("                    btn.addEventListener(\'click\', function() {");
document.writeln("                        const index = parseInt(this.dataset.index);");
document.writeln("                        const site = config.sites[index];");
document.writeln("                        ");
document.writeln("                        // 填充表单");
document.writeln("                        document.getElementById(\'vod-key\').value = site.key;");
document.writeln("                        document.getElementById(\'vod-name\').value = site.name;");
document.writeln("                        document.getElementById(\'vod-type\').value = site.type;");
document.writeln("                        document.getElementById(\'vod-api\').value = site.api;");
document.writeln("                        document.getElementById(\'vod-searchable\').value = site.searchable;");
document.writeln("                        document.getElementById(\'vod-quickSearch\').value = site.quickSearch;");
document.writeln("                        document.getElementById(\'vod-filterable\').value = site.filterable;");
document.writeln("                        vodExtInput.value = site.ext || \'\';");
document.writeln("                        ");
document.writeln("                        // 更新分类");
document.writeln("                        if (site.categories && site.categories.length > 0) {");
document.writeln("                            config.categories = [...site.categories];");
document.writeln("                            loadCategories();");
document.writeln("                        }");
document.writeln("                        ");
document.writeln("                        // 切换按钮状态");
document.writeln("                        editingIndex = index;");
document.writeln("                        addVodBtn.style.display = \'none\';");
document.writeln("                        updateVodBtn.style.display = \'inline-block\';");
document.writeln("                        cancelEditBtn.style.display = \'inline-block\';");
document.writeln("                    });");
document.writeln("                });");
document.writeln("                ");
document.writeln("                // 添加删除事件");
document.writeln("                document.querySelectorAll(\'.delete-vod\').forEach(btn => {");
document.writeln("                    btn.addEventListener(\'click\', function() {");
document.writeln("                        const index = parseInt(this.dataset.index);");
document.writeln("                        config.sites.splice(index, 1);");
document.writeln("                        updateConfigJson();");
document.writeln("                        loadVodItems();");
document.writeln("                    });");
document.writeln("                });");
document.writeln("            }");
document.writeln("            ");
document.writeln("            // 加载直播频道列表");
document.writeln("            function loadLiveChannels() {");
document.writeln("                liveChannelsList.innerHTML = \'\';");
document.writeln("                ");
document.writeln("                if (config.lives.length === 0) {");
document.writeln("                    return;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                config.lives.forEach((group, groupIndex) => {");
document.writeln("                    const groupHeader = document.createElement(\'h4\');");
document.writeln("                    groupHeader.textContent = `组: ${group.group}`;");
document.writeln("                    groupHeader.style.marginTop = \'20px\';");
document.writeln("                    groupHeader.style.marginBottom = \'10px\';");
document.writeln("                    groupHeader.style.color = \'var(--primary-color)\';");
document.writeln("                    liveChannelsList.appendChild(groupHeader);");
document.writeln("                    ");
document.writeln("                    group.channels.forEach((channel, channelIndex) => {");
document.writeln("                        const item = document.createElement(\'div\');");
document.writeln("                        item.className = \'channel-item\';");
document.writeln("                        item.draggable = true;");
document.writeln("                        item.dataset.group = groupIndex;");
document.writeln("                        item.dataset.channel = channelIndex;");
document.writeln("                        ");
document.writeln("                        let urlsHtml = \'\';");
document.writeln("                        channel.urls.forEach((url, urlIndex) => {");
document.writeln("                            urlsHtml += `<p>URL${urlIndex + 1}: ${url}</p>`;");
document.writeln("                        });");
document.writeln("                        ");
document.writeln("                        item.innerHTML = `");
document.writeln("                            <div style=\'flex: 1;\'>");
document.writeln("                                <p><strong>频道:</strong> ${channel.name}</p>");
document.writeln("                                ${urlsHtml}");
document.writeln("                            </div>");
document.writeln("                            <div class=\'channel-item-actions\'>");
document.writeln("                                <button data-group=\'${groupIndex}\' data-channel=\'${channelIndex}\' class=\'button-edit edit-live-channel\'>编辑</button>");
document.writeln("                                <button data-group=\'${groupIndex}\' data-channel=\'${channelIndex}\' class=\'button-cancel delete-live-channel\'>删除</button>");
document.writeln("                            </div>");
document.writeln("                        `;");
document.writeln("                        liveChannelsList.appendChild(item);");
document.writeln("                        ");
document.writeln("                        item.addEventListener(\'dragstart\', handleLiveDragStart);");
document.writeln("                        item.addEventListener(\'dragover\', handleLiveDragOver);");
document.writeln("                        item.addEventListener(\'dragleave\', handleLiveDragLeave);");
document.writeln("                        item.addEventListener(\'drop\', handleLiveDrop);");
document.writeln("                        item.addEventListener(\'dragend\', handleLiveDragEnd);");
document.writeln("                    });");
document.writeln("                });");
document.writeln("                ");
document.writeln("                // 添加编辑事件");
document.writeln("                document.querySelectorAll(\'.edit-live-channel\').forEach(btn => {");
document.writeln("                    btn.addEventListener(\'click\', function() {");
document.writeln("                        const groupIndex = parseInt(this.dataset.group);");
document.writeln("                        const channelIndex = parseInt(this.dataset.channel);");
document.writeln("                        const channel = config.lives[groupIndex].channels[channelIndex];");
document.writeln("                        ");
document.writeln("                        // 填充表单");
document.writeln("                        liveGroupInput.value = config.lives[groupIndex].group;");
document.writeln("                        liveChannelNameInput.value = channel.name;");
document.writeln("                        ");
document.writeln("                        // 清空并添加URL输入框");
document.writeln("                        liveUrlsList.innerHTML = \'\';");
document.writeln("                        channel.urls.forEach(url => {");
document.writeln("                            const urlItem = document.createElement(\'div\');");
document.writeln("                            urlItem.className = \'url-item\';");
document.writeln("                            urlItem.innerHTML = `");
document.writeln("                                <input type=\'text\' class=\'live-url\' placeholder=\'直播源URL\' value=\'${url}\'>");
document.writeln("                                <button class=\'remove-url button-cancel\'>删除</button>");
document.writeln("                            `;");
document.writeln("                            liveUrlsList.appendChild(urlItem);");
document.writeln("                            ");
document.writeln("                            urlItem.querySelector(\'.remove-url\').addEventListener(\'click\', function() {");
document.writeln("                                urlItem.remove();");
document.writeln("                            });");
document.writeln("                        });");
document.writeln("                        ");
document.writeln("                        // 如果没有URL输入框，添加一个空的");
document.writeln("                        if (liveUrlsList.children.length === 0) {");
document.writeln("                            const urlItem = document.createElement(\'div\');");
document.writeln("                            urlItem.className = \'url-item\';");
document.writeln("                            urlItem.innerHTML = `");
document.writeln("                                <input type=\'text\' class=\'live-url\' placeholder=\'直播源URL\'>");
document.writeln("                                <button class=\'remove-url button-cancel\'>删除</button>");
document.writeln("                            `;");
document.writeln("                            liveUrlsList.appendChild(urlItem);");
document.writeln("                            ");
document.writeln("                            urlItem.querySelector(\'.remove-url\').addEventListener(\'click\', function() {");
document.writeln("                                urlItem.remove();");
document.writeln("                            });");
document.writeln("                        }");
document.writeln("                        ");
document.writeln("                        // 切换按钮状态");
document.writeln("                        editingLiveGroupIndex = groupIndex;");
document.writeln("                        editingLiveChannelIndex = channelIndex;");
document.writeln("                        addLiveChannelBtn.style.display = \'none\';");
document.writeln("                        updateLiveChannelBtn.style.display = \'inline-block\';");
document.writeln("                        cancelLiveEditBtn.style.display = \'inline-block\';");
document.writeln("                    });");
document.writeln("                });");
document.writeln("                ");
document.writeln("                // 添加删除事件");
document.writeln("                document.querySelectorAll(\'.delete-live-channel\').forEach(btn => {");
document.writeln("                    btn.addEventListener(\'click\', function() {");
document.writeln("                        const groupIndex = parseInt(this.dataset.group);");
document.writeln("                        const channelIndex = parseInt(this.dataset.channel);");
document.writeln("                        ");
document.writeln("                        config.lives[groupIndex].channels.splice(channelIndex, 1);");
document.writeln("                        ");
document.writeln("                        if (config.lives[groupIndex].channels.length === 0) {");
document.writeln("                            config.lives.splice(groupIndex, 1);");
document.writeln("                        }");
document.writeln("                        ");
document.writeln("                        updateConfigJson();");
document.writeln("                        loadLiveChannels();");
document.writeln("                    });");
document.writeln("                });");
document.writeln("            }");
document.writeln("            ");
document.writeln("            // 加载解析地址列表");
document.writeln("            function loadParses() {");
document.writeln("                parseList.innerHTML = \'\';");
document.writeln("                ");
document.writeln("                if (config.parses.length === 0) {");
document.writeln("                    return;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                config.parses.forEach((parse, index) => {");
document.writeln("                    const item = document.createElement(\'div\');");
document.writeln("                    item.className = \'parse-item\';");
document.writeln("                    item.draggable = true;");
document.writeln("                    item.dataset.index = index;");
document.writeln("                    ");
document.writeln("                    let extHtml = parse.ext ? `<p><strong>Ext:</strong> ${parse.ext}</p>` : \'\';");
document.writeln("                    ");
document.writeln("                    item.innerHTML = `");
document.writeln("                        <div style=\'flex: 1;\'>");
document.writeln("                            <p><strong>名称:</strong> ${parse.name} (类型: ${getParseTypeName(parse.type)})</p>");
document.writeln("                            <p><strong>URL:</strong> ${parse.url}</p>");
document.writeln("                            ${extHtml}");
document.writeln("                        </div>");
document.writeln("                        <div class=\'parse-item-actions\'>");
document.writeln("                            <button data-index=\'${index}\' class=\'button-edit edit-parse\'>编辑</button>");
document.writeln("                            <button data-index=\'${index}\' class=\'button-cancel delete-parse\'>删除</button>");
document.writeln("                        </div>");
document.writeln("                    `;");
document.writeln("                    parseList.appendChild(item);");
document.writeln("                    ");
document.writeln("                    item.addEventListener(\'dragstart\', handleParseDragStart);");
document.writeln("                    item.addEventListener(\'dragover\', handleParseDragOver);");
document.writeln("                    item.addEventListener(\'dragleave\', handleParseDragLeave);");
document.writeln("                    item.addEventListener(\'drop\', handleParseDrop);");
document.writeln("                    item.addEventListener(\'dragend\', handleParseDragEnd);");
document.writeln("                });");
document.writeln("                ");
document.writeln("                // 添加编辑事件");
document.writeln("                document.querySelectorAll(\'.edit-parse\').forEach(btn => {");
document.writeln("                    btn.addEventListener(\'click\', function() {");
document.writeln("                        const index = parseInt(this.dataset.index);");
document.writeln("                        const parse = config.parses[index];");
document.writeln("                        ");
document.writeln("                        // 填充表单");
document.writeln("                        document.getElementById(\'parse-name\').value = parse.name;");
document.writeln("                        document.getElementById(\'parse-type\').value = parse.type;");
document.writeln("                        parseUrlInput.value = parse.url;");
document.writeln("                        parseExtInput.value = parse.ext || \'\';");
document.writeln("                        ");
document.writeln("                        // 切换按钮状态");
document.writeln("                        editingParseIndex = index;");
document.writeln("                        addParseBtn.style.display = \'none\';");
document.writeln("                        updateParseBtn.style.display = \'inline-block\';");
document.writeln("                        cancelParseEditBtn.style.display = \'inline-block\';");
document.writeln("                    });");
document.writeln("                });");
document.writeln("                ");
document.writeln("                // 添加删除事件");
document.writeln("                document.querySelectorAll(\'.delete-parse\').forEach(btn => {");
document.writeln("                    btn.addEventListener(\'click\', function() {");
document.writeln("                        const index = parseInt(this.dataset.index);");
document.writeln("                        config.parses.splice(index, 1);");
document.writeln("                        updateConfigJson();");
document.writeln("                        loadParses();");
document.writeln("                    });");
document.writeln("                });");
document.writeln("            }");
document.writeln("            ");
document.writeln("            // 点播源拖动相关函数");
document.writeln("            function handleDragStart(e) {");
document.writeln("                draggedItem = this;");
document.writeln("                dragStartIndex = parseInt(this.dataset.index);");
document.writeln("                this.classList.add(\'dragging\');");
document.writeln("                e.dataTransfer.effectAllowed = \'move\';");
document.writeln("                e.dataTransfer.setData(\'text/html\', this.innerHTML);");
document.writeln("            }");
document.writeln("            ");
document.writeln("            function handleDragOver(e) {");
document.writeln("                e.preventDefault();");
document.writeln("                e.dataTransfer.dropEffect = \'move\';");
document.writeln("                this.classList.add(\'drag-over\');");
document.writeln("            }");
document.writeln("            ");
document.writeln("            function handleDragLeave() {");
document.writeln("                this.classList.remove(\'drag-over\');");
document.writeln("            }");
document.writeln("            ");
document.writeln("            function handleDrop(e) {");
document.writeln("                e.preventDefault();");
document.writeln("                this.classList.remove(\'drag-over\');");
document.writeln("                ");
document.writeln("                const dragEndIndex = parseInt(this.dataset.index);");
document.writeln("                if (dragStartIndex !== dragEndIndex) {");
document.writeln("                    const temp = config.sites[dragStartIndex];");
document.writeln("                    config.sites[dragStartIndex] = config.sites[dragEndIndex];");
document.writeln("                    config.sites[dragEndIndex] = temp;");
document.writeln("                    ");
document.writeln("                    loadVodItems();");
document.writeln("                    updateConfigJson();");
document.writeln("                }");
document.writeln("            }");
document.writeln("            ");
document.writeln("            function handleDragEnd() {");
document.writeln("                this.classList.remove(\'dragging\');");
document.writeln("                draggedItem = null;");
document.writeln("            }");
document.writeln("            ");
document.writeln("            // 直播频道拖动相关函数");
document.writeln("            function handleLiveDragStart(e) {");
document.writeln("                draggedItem = this;");
document.writeln("                const groupIndex = parseInt(this.dataset.group);");
document.writeln("                const channelIndex = parseInt(this.dataset.channel);");
document.writeln("                dragStartIndex = { group: groupIndex, channel: channelIndex };");
document.writeln("                this.classList.add(\'dragging\');");
document.writeln("                e.dataTransfer.effectAllowed = \'move\';");
document.writeln("                e.dataTransfer.setData(\'text/html\', this.innerHTML);");
document.writeln("            }");
document.writeln("            ");
document.writeln("            function handleLiveDragOver(e) {");
document.writeln("                e.preventDefault();");
document.writeln("                e.dataTransfer.dropEffect = \'move\';");
document.writeln("                this.classList.add(\'drag-over\');");
document.writeln("            }");
document.writeln("            ");
document.writeln("            function handleLiveDragLeave() {");
document.writeln("                this.classList.remove(\'drag-over\');");
document.writeln("            }");
document.writeln("            ");
document.writeln("            function handleLiveDrop(e) {");
document.writeln("                e.preventDefault();");
document.writeln("                this.classList.remove(\'drag-over\');");
document.writeln("                ");
document.writeln("                const dragEndGroupIndex = parseInt(this.dataset.group);");
document.writeln("                const dragEndChannelIndex = parseInt(this.dataset.channel);");
document.writeln("                ");
document.writeln("                if (dragStartIndex.group !== dragEndGroupIndex || dragStartIndex.channel !== dragEndChannelIndex) {");
document.writeln("                    // 获取要移动的频道");
document.writeln("                    const channelToMove = config.lives[dragStartIndex.group].channels[dragStartIndex.channel];");
document.writeln("                    ");
document.writeln("                    // 从原位置删除");
document.writeln("                    config.lives[dragStartIndex.group].channels.splice(dragStartIndex.channel, 1);");
document.writeln("                    ");
document.writeln("                    // 如果原组空了，删除组");
document.writeln("                    if (config.lives[dragStartIndex.group].channels.length === 0) {");
document.writeln("                        config.lives.splice(dragStartIndex.group, 1);");
document.writeln("                    }");
document.writeln("                    ");
document.writeln("                    // 添加到新位置");
document.writeln("                    const targetGroup = config.lives[dragEndGroupIndex];");
document.writeln("                    targetGroup.channels.splice(dragEndChannelIndex, 0, channelToMove);");
document.writeln("                    ");
document.writeln("                    loadLiveChannels();");
document.writeln("                    updateConfigJson();");
document.writeln("                }");
document.writeln("            }");
document.writeln("            ");
document.writeln("            function handleLiveDragEnd() {");
document.writeln("                this.classList.remove(\'dragging\');");
document.writeln("                draggedItem = null;");
document.writeln("            }");
document.writeln("            ");
document.writeln("            // 解析地址拖动相关函数");
document.writeln("            function handleParseDragStart(e) {");
document.writeln("                draggedItem = this;");
document.writeln("                dragStartIndex = parseInt(this.dataset.index);");
document.writeln("                this.classList.add(\'dragging\');");
document.writeln("                e.dataTransfer.effectAllowed = \'move\';");
document.writeln("                e.dataTransfer.setData(\'text/html\', this.innerHTML);");
document.writeln("            }");
document.writeln("            ");
document.writeln("            function handleParseDragOver(e) {");
document.writeln("                e.preventDefault();");
document.writeln("                e.dataTransfer.dropEffect = \'move\';");
document.writeln("                this.classList.add(\'drag-over\');");
document.writeln("            }");
document.writeln("            ");
document.writeln("            function handleParseDragLeave() {");
document.writeln("                this.classList.remove(\'drag-over\');");
document.writeln("            }");
document.writeln("            ");
document.writeln("            function handleParseDrop(e) {");
document.writeln("                e.preventDefault();");
document.writeln("                this.classList.remove(\'drag-over\');");
document.writeln("                ");
document.writeln("                const dragEndIndex = parseInt(this.dataset.index);");
document.writeln("                if (dragStartIndex !== dragEndIndex) {");
document.writeln("                    const temp = config.parses[dragStartIndex];");
document.writeln("                    config.parses[dragStartIndex] = config.parses[dragEndIndex];");
document.writeln("                    config.parses[dragEndIndex] = temp;");
document.writeln("                    ");
document.writeln("                    loadParses();");
document.writeln("                    updateConfigJson();");
document.writeln("                }");
document.writeln("            }");
document.writeln("            ");
document.writeln("            function handleParseDragEnd() {");
document.writeln("                this.classList.remove(\'dragging\');");
document.writeln("                draggedItem = null;");
document.writeln("            }");
document.writeln("            ");
document.writeln("            function getTypeName(type) {");
document.writeln("                const types = {");
document.writeln("                    0: \'xml\',");
document.writeln("                    1: \'json\',");
document.writeln("                    2: \'爬虫源\',");
document.writeln("                    3: \'自定义爬虫\',");
document.writeln("                    4: \'服务器爬虫\'");
document.writeln("                };");
document.writeln("                return types[type] || \'未知\';");
document.writeln("            }");
document.writeln("            ");
document.writeln("            function getParseTypeName(type) {");
document.writeln("                const types = {");
document.writeln("                    0: \'普通\',");
document.writeln("                    1: \'json\',");
document.writeln("                    2: \'多json\',");
document.writeln("                    3: \'聚合\'");
document.writeln("                };");
document.writeln("                return types[type] || \'未知\';");
document.writeln("            }");
document.writeln("");
document.writeln("            // 更新配置JSON显示");
document.writeln("            function updateConfigJson() {");
document.writeln("                const globalSpider = globalSpiderInput.value.trim();");
document.writeln("                if (globalSpider) {");
document.writeln("                    config.spider = globalSpider;");
document.writeln("                } else {");
document.writeln("                    config.spider = \'\';");
document.writeln("                }");
document.writeln("                ");
document.writeln("                config.flags = vipFlagsInput.value.split(\',\').map(f => f.trim()).filter(f => f);");
document.writeln("                ");
document.writeln("                // 更新IJK配置时不再处理文本区域，因为现在直接操作config对象");
document.writeln("                ");
document.writeln("                config.ads = adDomainsTextarea.value.split(\'\/\/n\').map(d => d.trim()).filter(d => d);");
document.writeln("                ");
document.writeln("                const wallpaper = wallpaperUrlInput.value.trim();");
document.writeln("                if (wallpaper) {");
document.writeln("                    config.wallpaper = wallpaper;");
document.writeln("                } else {");
document.writeln("                    config.wallpaper = \'\';");
document.writeln("                }");
document.writeln("                ");
document.writeln("                configJson.value = JSON.stringify(config, null, 2);");
document.writeln("            }");
document.writeln("            ");
document.writeln("            // 复制到剪贴板");
document.writeln("            copyBtn.addEventListener(\'click\', async function() {");
document.writeln("                if (!configJson.value) {");
document.writeln("                    alert(\'错误：没有可复制的配置内容！\');");
document.writeln("                    return;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                try {");
document.writeln("                    await navigator.clipboard.writeText(configJson.value);");
document.writeln("                    alert(\'✅ 配置已复制到剪贴板！\');");
document.writeln("                } catch (err) {");
document.writeln("                    console.error(\'复制失败:\', err);");
document.writeln("                    configJson.select();");
document.writeln("                    try {");
document.writeln("                        const success = document.execCommand(\'copy\');");
document.writeln("                        alert(success ? \'✅ 配置已复制（兼容模式）！\' : \'❌ 复制失败，请手动选择文本复制\');");
document.writeln("                    } catch (e) {");
document.writeln("                        alert(\'❌ 复制失败，请手动选择文本复制\');");
document.writeln("                    }");
document.writeln("                }");
document.writeln("            });");
document.writeln("");
document.writeln("            // 输入框实时更新配置");
document.writeln("            globalSpiderInput.addEventListener(\'input\', updateConfigJson);");
document.writeln("            parseUrlInput.addEventListener(\'input\', updateConfigJson);");
document.writeln("            parseExtInput.addEventListener(\'input\', updateConfigJson);");
document.writeln("            wallpaperUrlInput.addEventListener(\'input\', updateConfigJson);");
document.writeln("            liveGroupInput.addEventListener(\'input\', updateConfigJson);");
document.writeln("            liveChannelNameInput.addEventListener(\'input\', updateConfigJson);");
document.writeln("            vipFlagsInput.addEventListener(\'input\', updateConfigJson);");
document.writeln("            ijkGroupSelect.addEventListener(\'change\', function() {");
document.writeln("                updateIjkOptionsTextarea();");
document.writeln("                loadIjkOptions();");
document.writeln("                updateConfigJson();");
document.writeln("            });");
document.writeln("            adDomainsTextarea.addEventListener(\'input\', updateConfigJson);");
document.writeln("");
document.writeln("            // 初始化表单值");
document.writeln("            function initFormValues() {");
document.writeln("                if (config.spider) {");
document.writeln("                    globalSpiderInput.value = config.spider;");
document.writeln("                }");
document.writeln("                ");
document.writeln("                // 设置VIP标识默认值");
document.writeln("                vipFlagsInput.value = config.flags.join(\',\');");
document.writeln("                ");
document.writeln("                // 初始化IJK配置显示");
document.writeln("                updateIjkOptionsTextarea();");
document.writeln("                loadIjkOptions();");
document.writeln("                ");
document.writeln("                // 设置广告过滤默认值");
document.writeln("                adDomainsTextarea.value = config.ads.join(\'\/\/n\');");
document.writeln("                ");
document.writeln("                // 加载分类");
document.writeln("                loadCategories();");
document.writeln("                ");
document.writeln("                // 加载列表");
document.writeln("                loadVodItems();");
document.writeln("                loadLiveChannels();");
document.writeln("                loadParses();");
document.writeln("                ");
document.writeln("                // 初始化URL删除事件");
document.writeln("                document.querySelectorAll(\'.remove-url\').forEach(btn => {");
document.writeln("                    btn.addEventListener(\'click\', function() {");
document.writeln("                        this.parentElement.remove();");
document.writeln("                    });");
document.writeln("                });");
document.writeln("            }");
document.writeln("");
document.writeln("            // 初始化页面");
document.writeln("            initFormValues();");
document.writeln("            updateConfigJson();");
document.writeln("        });");
document.writeln("    </script>");
document.writeln("</body>");
document.writeln("</html>");